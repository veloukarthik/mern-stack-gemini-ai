"use strict";(self.webpackChunkviews=self.webpackChunkviews||[]).push([[8],{8:(e,s,t)=>{t.r(s),t.d(s,{default:()=>d});var l=t(43),r=t(721),i=t(216),o=t(810),n=t(574),a=t(579);const d=function(){const[e,s]=(0,l.useState)([]),[t,d]=(0,l.useState)(""),[c,u]=(0,l.useState)([]),m=(0,i.zy)(),{id:p}=(0,i.g)(),h=(0,i.Zp)(),[g,x]=(0,l.useState)(!1),[f,b]=(0,l.useState)("Send"),y=localStorage.getItem("user");(0,l.useEffect)((()=>{d(""),j(),v()}),[m]);const v=async()=>{if(p){const e=await(0,r.y2)(p);j(),u(e.promptResponse),setTimeout((()=>{window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}),100)}else u([])},j=()=>{(0,r.oO)().then((e=>{if(e&&e.prompts){let s=e.prompts.filter((e=>e._id==p?e:null));document.title=s.length>0?s[0].prompt:"Gemini AI"}s(e.prompts)}))};return(0,a.jsxs)("div",{className:"h-screen flex",children:[(0,a.jsx)(o.A,{changes:c}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,a.jsx)("header",{className:"bg-white shadow p-4",children:(0,a.jsxs)("h1",{className:"text-2xl font-semibold flex justify-between items-center",children:[(0,a.jsx)("span",{children:"Gemini AI"}),(0,a.jsxs)("div",{className:"relative inline-block text-right",children:[(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"button",className:"inline-flex uppercase justify-center rounded-full py-2 border border-gray-300 shadow-sm w-10 h-10 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-indigo-500",id:"options-menu","aria-haspopup":"true","aria-expanded":"true",onClick:()=>x(!g),children:y?y.charAt(0):""})}),g&&(0,a.jsx)("div",{className:"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 divide-y divide-gray-100",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu",children:(0,a.jsxs)("div",{className:"py-1",role:"none",children:[(0,a.jsx)("a",{href:"#",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900",role:"menuitem",children:"My Account"}),(0,a.jsx)("a",{href:"#",onClick:()=>(localStorage.removeItem("token"),void(window.location.href="/")),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900",role:"menuitem",children:"Logout"})]})})]})]})}),(0,a.jsx)("main",{className:"flex-1 overflow-y-auto p-4",children:(0,a.jsx)("div",{className:"bg-gray-50 p-6 rounded-lg shadow-md",children:c&&c.map(((e,s)=>(0,a.jsxs)("div",{className:"space-y-4 w-full",children:[(0,a.jsx)("div",{className:"flex justify-start w-full mt-3 mb-3",children:(0,a.jsx)("div",{className:"bg-gray-200 p-3 rounded-lg w-full",children:(0,a.jsx)("p",{children:e.subprompt})})}),(0,a.jsx)("div",{className:"flex justify-end w-full mt-3 mt-3",children:(0,a.jsx)("div",{className:"bg-gray-200 p-3 rounded-lg w-full text-conent",children:(0,a.jsx)(n.Ay,{children:e.response})})})]},s)))})}),(0,a.jsx)("footer",{className:"p-4 bg-white border-t",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{onChange:e=>d(e.target.value),value:t,type:"text",placeholder:"Type your message...",className:"flex-1 p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,a.jsx)("button",{onClick:()=>(()=>{let e={};p?(e.promptId=p,e.subprompt=t):(e.prompt=t,e.subprompt=""),b("Sending..."),d(""),(0,r.HK)(e).then((e=>{d(""),p?(v(),b("Send"),d("")):e&&(b("Send"),d(""),h("/p/"+e.promptResponse.prompt_id))}))})(),disabled:!t,className:"ml-2 p-2 bg-blue-500 text-white rounded-lg",children:f})]})})]})]})}}}]);
//# sourceMappingURL=8.c531bf4c.chunk.js.map